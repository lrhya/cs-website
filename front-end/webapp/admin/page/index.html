<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>后台首页</title>
    <link rel="stylesheet" href="../semantic-ui/semantic.min.css">
    <link rel="stylesheet" href="../css/main.css">
    <style>
        #m-tab{
            padding: 2px;
            height: 100%;
            overflow: hidden;
        }

        #m-tab .item{
            cursor: pointer;
        }
        #m-tab .item>i{
            position: relative;
            left: 15px;
        }
    </style>
</head>
<body>
<!--顶部-->
<div id="top" class="ui top">
    <div class="ui items notice">
        <span>
            <i class="icon announcement big"></i><span>欢迎使用计科院网站后台系统 <span id="time"></span></span>
        </span>
        <span class="fr" id="top-right">
            登录身份：<span id="user-show">系统管理员</span>
        </span>
    </div>
</div>
<!--头部-->
<div class="header clearFix" id="header">
    <div class="logo fl"><a href=""><i class="icon home"></i><span>计算机科学与技术学院</span></a></div>
    <div class="fl" id="trigger-menu">
        <span class="item"><i class="icon sidebar"></i>菜单</span>
    </div>
    <div class="ui horizontal  fr" id="header-right">
        <div class="item">
            <div class="ui top pointing dropdown icon">
                <img src="../img/face.jpg" alt=""
                     class="ui avatar image">
                <span class="content"> admin</span>
                <i class="icon dropdown"></i>
                <ul class="ui compact menu">
                    <li class="item"><i class="write icon"></i>个人资料</li>
                    <li class="item"><i class="setting icon"></i>修改基本信息</li>
                    <li class="item"><i class="configure icon"></i>更多皮肤</li>
                    <li class="item"><i class="sign out icon"></i>退出</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!--中间内容-->
<div id="middle" class="clearFix ui">
    <!--左边导航-->
    <aside id="left-nav">
        <div id="user" class="txt-center">
            <img src="../img/face.jpg" alt="登录用户图片" class="ui tiny middle aligned circular image">
        </div>
        <nav>
            <div class="ui accordion inverted">
                <div class="active title "><i class="icon dropdown"></i> <span> 使用须知</span></div>
                <ul class="ui active content ">
                    <li><a href="javascript:void(0);" onclick="addTab('使用须知','')">使用须知</a></li>
                </ul>
                <div class="title"><i class="icon dropdown"></i> <span>新闻管理</span></div>
                <ul class="ui content">
                    <li><a href="javascript:void(0);" onclick="addTab('添加新闻','page/addNews.html')">添加新闻</a></li>
                    <li><a href="javascript:void(0);" onclick="addTab('新闻列表','page/newsList2.html')">新闻列表</a></li>
                    <li><a href="javascript:void(0);" onclick="addTab('静态新闻','page/staticNews.html')">静态新闻</a></li>
                    <li><a href="javascript:void(0);" onclick="addTab('新闻类别管理','page/newsSort.html')">新闻类别管理</a></li>
                </ul>
                <div class="title "><i class="icon dropdown"></i> <span> 毕业班级管理</span></div>
                <ul class="ui content">
                    <li><a href="javascript:void(0);" onclick="addTab('班级列表','page/classList.html')">班级列表</a></li>
                    <li><a href="javascript:void(0);" onclick="addTab('添加班级','page/addClass.html')">添加班级</a></li>
                </ul>
                <div class="title"><i class="icon dropdown"></i> <span> 毕业生管理</span></div>
                <ul class="ui content">
                    <li><a href="javascript:void(0);" onclick="addTab('学生列表','page/stuList.html')">学生列表</a></li>
                    <li><a href="javascript:void(0);" onclick="addTab('添加学生','page/addStu.html')">添加学生</a></li>
                </ul>

                <div class="title"><i class="icon dropdown"></i> <span>资源上传</span></div>
                <ul class="ui content">
                    <li><a href="javascript:void(0);" onclick="addTab('资源管理列表','')">资源管理列表</a></li>
                    <li><a href="javascript:void(0);" onclick="addTab('首页图片管理','')">首页图片管理</a></li>
                </ul>
                <div class="title"><i class="icon dropdown"></i> <span>用户管理</span></div>
                <ul class="ui content">
                    <li><a href="javascript:void(0);" onclick="addTab('用户列表','page/userList.html')">用户列表</a></li>
                    <li><a href="javascript:void(0);" onclick="addTab('添加用户','page/addUser.html')">添加用户</a></li>
                </ul>
                <div class="title"><i class="icon dropdown"></i> <span>师资队伍</span></div>
                <ul class="ui content">
                    <li><a href="javascript:void(0);" onclick="addTab('师资队伍','page/teacherList.html')">师资队伍</a></li>
                    <li><a href="javascript:void(0);" onclick="addTab('添加教师','page/addTeacher.html')">添加教师</a></li>
                    <li><a href="javascript:void(0);" onclick="addTab('教师职称列表管理','page/teacherRank.html')">教师职称列表管理</a></li>
                    <li><a href="javascript:void(0);" onclick="addTab('教师类别管理','page/teacherSort.html')">教师类别管理</a></li>
                </ul>
                <div class="title"><i class="icon dropdown"></i> <span>毕业生风采</span></div>
                <ul class="ui content">
                    <li><a href="javascript:void(0);" onclick="addTab('风采列表','page/fengCai.html')">风采列表</a></li>
                </ul>
                <div class="title"><i class="icon dropdown"></i> <span>系统日志</span></div>
                <ul class="ui content">
                    <li><a href="javascript:void(0);" onclick="addTab('系统日志','')">系统日志</a></li>
                </ul>
            </div>
        </nav>
    </aside>
    <!--主体-->
    <div id="main">
        <div id="m-tab">
            <div class="ui top attached tabular menu">
            </div>
        </div>
    </div>
</div>

<div id="footer">
    <p>&copy;2017 湖北师范大学计算机科学与技术学院 All rights reserved</p>
</div>
</body>
<script type="text/javascript" src="../lib/wangEditor.min.js"></script>
<script src="../semantic-ui/jquery-3.2.1.js"></script>
<script src="../semantic-ui/semantic.min.js"></script>
<script src="../js/main.js"></script>
<script>

    function addTab(title,url) {
        var isExist=false;
        //关闭原来激活的tab
        $('#m-tab .top .item').each(function () {
            $(this).removeClass('active');
        });
        $('#m-tab .bottom').each(function () {
            $(this).removeClass('active');
        });

        //添加tab
        //已存在，直接激活
        $('#m-tab .top .item').each(function () {
            if($(this).attr('data-tab')==title){
                $(this).addClass('active');
                isExist=true;
                //内容显示
            $('.tab').filter("[data-tab="+title+']').addClass('active');
                return;
            }
        });
        if(isExist)
            return;

        //不存在，添加
        var item=$("<span></span>").addClass("item active").attr('data-tab',title).text(title);
        var removeIcon=$("<i></i>").addClass("remove icon").click(function () {
            $('.tab').filter("[data-tab="+$(this).parent().attr('data-tab')+"]").remove();
            ($(this).parent()).remove();
            //关闭的是当前选项卡
            if($(this).parent().hasClass('active')){
                $('.top .item').last().addClass('active');
                $('.tab').last().addClass('active');
            }
        });
        item.append(removeIcon);
        var tab=$("<div></div>").addClass("ui bottom attached tab segment active").attr('data-tab',title);
        if(url!='')
            //tab.load(url);
            tab.append($('<iframe width="100%" height="100%" frameborder="0"></iframe>').attr('src',url));
        $('#m-tab .top').append(item);
        $('#m-tab').append(tab);

        $('.menu .item').tab();
    }
</script>
</html>